{% extends 'index.html' %}
{% load static %}

{%block head%}
  <title>Idea List</title>
{%endblock%}

{%block content%}
  <div class="content-wrapper">
    <div class="idea-list">
        <h1>Idea List</h1>
        <p>나의 아이디어를 잊지 말고 기록해보세요.</p>
        <form id="sort-form" method="get" action="">
          <select id="sort-options" name="sort" onchange="document.getElementById('sort-form').submit();">
            <option value="latest" 
              {% if sort_option == "latest" %}
                selected
              {% endif %}>
                최신순
            </option>
            <option value="name" 
              {% if sort_option == "name" %}
                selected
              {% endif %}>
                이름순
            </option>
            <option value="interest" 
              {% if sort_option == "interest" %}
                selected
              {% endif %}>
                찜하기순
            </option>
          </select>
        </form>
        {% for post in posts %}
        <a href="{% url 'posts:detail' post.pk %}">
          <div class="card">
              <img src="{% static 'image/image.png' %}" alt="JavaScript">
              <h2>{{ post.title }}</h2>
              <p>예상 개발 툴: {{ post.devtool.name }}</p>
              <p>아이디어 관심도
                <br/>
                <button class="increase-button" data-post-id="{{ post.pk }}">+</button>
                {{ post.interest }}
                <button class="decrease-button" data-post-id="{{ post.pk }}">-</button>
              </p>
          </div>
        </a>
        {% endfor %}
    </div>
  </div>
{%endblock%}